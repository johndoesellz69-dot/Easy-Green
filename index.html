<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easy Green</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f0f0; }
  .login-screen, .admin-screen, .user-screen { display:none; padding:20px; }
  .active { display:block; }
  input, button { padding:8px; margin:5px 0; }
  .ticket { border:1px solid #ccc; padding:10px; margin:5px 0; background:#fff; }
  .stock { margin-left:10px; }
</style>
</head>
<body>

<!-- Login Screen -->
<div class="login-screen active">
  <h2>Login</h2>
  <input type="text" id="loginCode" placeholder="Enter code">
  <button onclick="login()">Login</button>
  <p id="loginMsg" style="color:red;"></p>
</div>

<!-- User Screen -->
<div class="user-screen">
  <h2>Welcome, User</h2>
  <div id="products"></div>
  <button onclick="logout()">Logout</button>
</div>

<!-- Admin Screen -->
<div class="admin-screen">
  <h2>Admin Panel</h2>
  <div id="adminTickets"></div>
  <button onclick="logout()">Logout</button>
</div>

<script>
// Demo products
const products = [
  { name: "Edible Pack", category: "Edibles" },
  { name: "Cart Vape", category: "Vapes" },
  { name: "Bud Pack", category: "Flower" }
];

// Demo tickets
let tickets = [
  { id: 1, user: "User1", product: "Edible Pack", status: "Pending" },
  { id: 2, user: "User2", product: "Cart Vape", status: "Pending" }
];

function login() {
  const code = document.getElementById("loginCode").value.toLowerCase();
  if (code === "joeygold54") {
    document.querySelector(".login-screen").classList.remove("active");
    document.querySelector(".admin-screen").classList.add("active");
    renderAdminTickets();
  } else if (code !== "") {
    document.querySelector(".login-screen").classList.remove("active");
    document.querySelector(".user-screen").classList.add("active");
    renderProducts();
  } else {
    document.getElementById("loginMsg").innerText = "Invalid code!";
  }
}

function logout() {
  document.querySelector(".login-screen").classList.add("active");
  document.querySelector(".admin-screen").classList.remove("active");
  document.querySelector(".user-screen").classList.remove("active");
  document.getElementById("loginCode").value = "";
  document.getElementById("loginMsg").innerText = "";
}

// Render products for user
function renderProducts() {
  const container = document.getElementById("products");
  container.innerHTML = "";
  products.forEach(p => {
    const div = document.createElement("div");
    div.textContent = `${p.name} (${p.category})`;
    container.appendChild(div);
  });
}

// Render tickets for admin
function renderAdminTickets() {
  const container = document.getElementById("adminTickets");
  container.innerHTML = "";
  tickets.forEach(t => {
    const div = document.createElement("div");
    div.className = "ticket";
    div.innerHTML = `
      <b>Ticket #${t.id}</b> - ${t.user} - ${t.product}
      <label class="stock">
        <input type="checkbox" onchange="updateTicket(${t.id}, this.checked)"> In Stock
      </label>
    `;
    container.appendChild(div);
  });
}

function updateTicket(id, inStock) {
  const ticket = tickets.find(t => t.id === id);
  if (ticket) ticket.status = inStock ? "In Stock" : "Pending";
}
</script>

</body>
</html>
